'use strict';

var require$$0 = require('path');
var require$$0$1 = require('fs');

function index (start, callback) {
	let dir = require$$0.resolve('.', start);
	let tmp, stats = require$$0$1.statSync(dir);

	if (!stats.isDirectory()) {
		dir = require$$0.dirname(dir);
	}

	while (true) {
		tmp = callback(dir, require$$0$1.readdirSync(dir));
		if (tmp) return require$$0.resolve(dir, tmp);
		dir = require$$0.dirname(tmp = dir);
		if (tmp === dir) break;
	}
}

module.exports = index;
