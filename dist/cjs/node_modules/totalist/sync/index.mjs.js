'use strict';

var require$$0 = require('path');
var require$$0$1 = require('fs');

function list(dir, callback, pre='') {
	dir = require$$0.resolve('.', dir);
	let arr = require$$0$1.readdirSync(dir);
	let i=0, abs, stats;
	for (; i < arr.length; i++) {
		abs = require$$0.join(dir, arr[i]);
		stats = require$$0$1.statSync(abs);
		stats.isDirectory()
			? list(abs, callback, require$$0.join(pre, arr[i]))
			: callback(require$$0.join(pre, arr[i]), abs, stats);
	}
}

module.exports = list;
